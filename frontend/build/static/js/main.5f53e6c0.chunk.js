(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{176:function(e,t,n){},204:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(60),s=n.n(c),r=(n(176),n(65)),i=n(18),l=n(26),o=n(7),j=n(130),d=n.n(j).a.create({baseURL:"/",timeout:1e4,headers:{"Content-Type":"application/json"}}),b=n(131),u=n.n(b)()((function(e){return{selectedPerson:{personID:-1,personName:"All Tasks"},setSelectedPerson:function(t){return e((function(e){return{selectedPerson:t}}))}}})),h=n(3),O=n(113),x=n(277),p=n(292),g=n(294),m=n(86),f=n(291),k=n(260),D=n(1),v=Object(x.a)((function(e){return{root:{display:"flex"},appBar:Object(h.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(220,"px)"),marginLeft:220}),content:{flexGrow:1,padding:e.spacing(3)},pageTitle:{paddingRight:"20px",marginLeft:"10px",display:"flex",alignItems:"center",justifyContent:"center"},leftButtons:{marginLeft:220}}}));var I=function(e){var t=v(),n=O.a.filter(e.children,(function(e){return"left"===e.props.justify})),a=O.a.filter(e.children,(function(e){return"right"===e.props.justify}));return Object(D.jsxs)(f.a,{className:t.root,sx:{flexGrow:1},children:[Object(D.jsx)(k.a,{}),Object(D.jsxs)(p.a,{position:"fixed",className:t.AppBar,children:[" ",Object(D.jsxs)(g.a,{children:[Object(D.jsx)("div",{className:t.leftButtons,children:n}),Object(D.jsx)(m.a,{className:t.pageTitle,variant:"h6",noWrap:!0,sx:{flexGrow:1},children:e.title}),Object(D.jsx)("div",{children:a})]})]})]})},N=n(111),P=n.n(N),y=n(110),T=n.n(y),w=n(295),C=n(293),S=n(296),F=n(297),U=n(298),L=n(299),A=n(300),M=n(287),B=n(278),W=n(309),R=n(301),E=n(267),z=n(302),J=n(283),G=n(280),q=n(307),H=n(308),K=n(305),Q=n(284),V=n(274),X=n(268),Y=n(275),Z={weekday:"long",year:"numeric",month:"short",day:"numeric"},$=Object(x.a)((function(e){return{editDialogAssignee:{marginRight:8,marginTop:8,marginBottom:8}}}));function _(e){var t=e.rows,n=e.projects,c=e.people,s=e.taskUpdate,r=$(),i=u((function(e){return e.selectedPerson})),j=Object(a.useState)(!1),b=Object(o.a)(j,2),h=b[0],O=b[1],x=Object(a.useState)({}),p=Object(o.a)(x,2),g=p[0],m=p[1],f=Object(a.useState)(!1),k=Object(o.a)(f,2),v=k[0],I=k[1],N=Object(a.useState)(""),y=Object(o.a)(N,2),_=y[0],ee=y[1],te=Object(a.useState)(new Date),ne=Object(o.a)(te,2),ae=ne[0],ce=ne[1],se=Object(a.useState)(-1),re=Object(o.a)(se,2),ie=re[0],le=re[1],oe=Object(a.useState)(i.personID),je=Object(o.a)(oe,2),de=je[0],be=je[1],ue=Object(a.useState)(new Date),he=Object(o.a)(ue,2),Oe=he[0],xe=he[1],pe=Object(a.useState)(-1),ge=Object(o.a)(pe,2),me=ge[0],fe=ge[1],ke=function(){O(!1)};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w.a,{component:C.a,children:Object(D.jsxs)(S.a,{sx:{minWidth:650},"aria-label":"User's Tasks",children:[Object(D.jsx)(F.a,{children:Object(D.jsxs)(U.a,{children:[Object(D.jsx)(L.a,{}),Object(D.jsx)(L.a,{children:"Title"}),Object(D.jsx)(L.a,{align:"right",children:"Project"}),Object(D.jsx)(L.a,{align:"right",children:"Due"})]})}),Object(D.jsx)(A.a,{children:t.map((function(e){return Object(D.jsxs)(U.a,{sx:{"&:last-child td, &:last-child th":{border:0},cursor:"pointer"},onClick:function(t){return m(n=e),I(Boolean(n.Completion)),ee(n.Title),ce(new Date(1e3*n.DueDate)),le(n.ProjectID),be(null!=n.PersonID?n.PersonID:-1),O(!0),xe(n.CreationDate),fe(n.TaskID),void console.log("Opening modification window for task id: ".concat(n.TaskID));var n},hover:!0,children:[Object(D.jsx)(L.a,{padding:"checkbox",children:Object(D.jsx)(M.a,{title:Boolean(e.Completion)?"Mark Incomplete":"Mark Complete",children:Object(D.jsx)(B.a,{color:"primary",icon:Object(D.jsx)(T.a,{}),checkedIcon:Object(D.jsx)(P.a,{}),checked:Boolean(e.Completion),onChange:function(t){return function(e,t){O(!1);var n={completion:e.target.checked,taskID:t};d.put("/api/task/complete/".concat(n.taskID),n).then((function(e){s(i)}))}(t,e.TaskID)}})})}),Object(D.jsx)(L.a,{children:e.Title}),Object(D.jsx)(L.a,{align:"right",size:"small",children:-1===e.ProjectID?"None":e.ProjectTitle}),Object(D.jsx)(L.a,{align:"right",size:"small",children:new Date(1e3*e.DueDate).toLocaleDateString("en-US",Z)})]},e.TaskID)}))})]})}),Object(D.jsxs)(R.a,{open:h,onClose:ke,children:[Object(D.jsxs)(E.a,{children:[Object(D.jsx)(M.a,{title:v?"Mark Incomplete":"Mark Complete",children:Object(D.jsx)(B.a,{color:"primary",icon:Object(D.jsx)(T.a,{}),checkedIcon:Object(D.jsx)(P.a,{}),checked:v,onChange:function(e){I(e.target.checked)},margin:"normal"})}),'Modify task "',g.Title,'"']}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(J.a,{autoFocus:!0,id:"Title",label:"Title",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",onChange:function(e){ee(e.target.value)},value:_}),Object(D.jsx)(X.b,{dateAdapter:V.a,children:Object(D.jsx)(Y.a,{label:"Due Date",inputFormat:"MM/dd/yyyy",renderInput:function(e){return Object(D.jsx)(J.a,Object(l.a)({margin:"normal"},e))},onChange:function(e){ce(e)},value:ae})}),Object(D.jsxs)(K.a,{sx:{m:2,minWidth:120},children:[Object(D.jsx)(Q.a,{id:"project-select",children:"Project"}),Object(D.jsxs)(G.a,{labelId:"project-select-label",id:"project-select",label:"Project",value:ie,onChange:function(e){le(e.target.value)},children:[Object(D.jsx)(q.a,{value:-1,children:"None"}),n.map((function(e){return Object(D.jsx)(q.a,{value:e.ProjectID,children:e.Title},e.ProjectID)}))]})]}),Object(D.jsxs)(K.a,{sx:{minWidth:200},className:r.editDialogAssignee,children:[Object(D.jsx)(Q.a,{id:"assignee-select",children:"Assignee"}),Object(D.jsxs)(G.a,{labelId:"assignee-select-label",id:"assignee-select",value:de,label:"Person",onChange:function(e){be(e.target.value)},children:[Object(D.jsx)(q.a,{value:-1,children:"None"}),c.map((function(e){return Object(D.jsx)(q.a,{value:e.PersonID,children:e.FirstName+" "+e.LastName},e.PersonID)}))]})]})]}),Object(D.jsxs)(H.a,{children:[Object(D.jsx)(W.a,{onClick:function(){O(!1),d.delete("/api/tasks/delete/".concat(me)).then((function(e){s(i)}))},color:"error",children:"Delete Task"}),Object(D.jsx)(W.a,{onClick:ke,children:"Cancel"}),Object(D.jsx)(W.a,{onClick:function(){O(!1);var e={title:_,completion:v,dueDate:ae.getTime()/1e3,projectID:ie,creationDate:Oe,taskID:me,personID:de};d.put("/api/tasks/".concat(e.taskID),e).then((function(e){s(i)}))},children:"Confirm"})]})]})]})}var ee=n(139),te=n.n(ee),ne=n(306);function ae(){var e=new Date,t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),j=i[0],b=i[1],h=Object(a.useState)([]),O=Object(o.a)(h,2),x=O[0],p=O[1],g=Object(a.useState)(!1),m=Object(o.a)(g,2),f=m[0],k=m[1],v=Object(a.useState)(-1),N=Object(o.a)(v,2),P=N[0],y=N[1],T=Object(a.useState)(""),w=Object(o.a)(T,2),C=w[0],S=w[1],F=Object(a.useState)(e),U=Object(o.a)(F,2),L=U[0],A=U[1],B=u((function(e){return e.selectedPerson})),Z=Object(a.useState)(B.personID),$=Object(o.a)(Z,2),ee=$[0],ae=$[1],ce=function(){k(!1),re(B),se()},se=function(){y(-1),S(""),A(e),ae(B.personID)},re=function(e){d.get("/api/tasks/person/".concat(e.personID)).then((function(e){s(e.data?e.data.rows:[]),console.log("Updating tasks")})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){d.get("/api/projects").then((function(e){b(e.data?e.data.rows:[]),console.log("Updating projects")})).catch((function(e){return console.log(e)})),d.get("/api/people").then((function(e){p(e.data?e.data.rows:[]),console.log("Updating people")})).catch((function(e){return console.log(e)})),re(B);var e=u.subscribe((function(e){re(e.selectedPerson)}));return function(){e()}}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)(I,{title:"User Tasks",children:Object(D.jsx)(M.a,{title:"Add",justify:"left",children:Object(D.jsx)(ne.a,{"aria-label":"add",size:"large",onClick:function(){k(!0)},children:Object(D.jsx)(te.a,{})})})}),Object(D.jsx)(_,{rows:c,projects:j,people:x,taskUpdate:re}),Object(D.jsxs)(R.a,{open:f,onClose:ce,children:[Object(D.jsx)(E.a,{children:"Add a New Task"}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(J.a,{autoFocus:!0,id:"Title",label:"Title",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",onChange:function(e){S(e.target.value)},value:C}),Object(D.jsx)(X.b,{dateAdapter:V.a,children:Object(D.jsx)(Y.a,{label:"Due Date",inputFormat:"MM/dd/yyyy",value:L,onChange:function(e){A(e)},renderInput:function(e){return Object(D.jsx)(J.a,Object(l.a)({margin:"normal"},e))}})}),Object(D.jsxs)(K.a,{sx:{m:2,minWidth:120},children:[Object(D.jsx)(Q.a,{id:"project-select",children:"Project"}),Object(D.jsxs)(G.a,{labelId:"project-select-label",id:"project-select",value:P,label:"Project",onChange:function(e){y(e.target.value)},children:[Object(D.jsx)(q.a,{value:-1,children:"None"}),j.map((function(e){return Object(D.jsx)(q.a,{value:e.ProjectID,children:e.Title},e.ProjectID)}))]})]}),Object(D.jsxs)(K.a,{sx:{m:2,minWidth:200},children:[Object(D.jsx)(Q.a,{id:"assignee-select",children:"Assignee"}),Object(D.jsxs)(G.a,{labelId:"assignee-select-label",id:"assignee-select",value:ee,label:"Person",onChange:function(e){ae(e.target.value)},children:[Object(D.jsx)(q.a,{value:-1,children:"None"}),x.map((function(e){return Object(D.jsx)(q.a,{value:e.PersonID,children:e.FirstName+" "+e.LastName},e.PersonID)}))]})]})]}),Object(D.jsxs)(H.a,{children:[Object(D.jsx)(W.a,{onClick:ce,children:"Cancel"}),Object(D.jsx)(W.a,{onClick:function(){return function(e,t,n){k(!1);var a={title:e,completion:!1,dueDate:new Date(t).getTime()/1e3,creationDate:(new Date).getTime()/1e3,projectID:n,assignee:ee};d.post("/api/tasks",a).then((function(e){re(B)})),se()}(C,L,P)},children:"Submit"})]})]})]})}function ce(){var e={weekday:"long",year:"numeric",month:"short",day:"numeric"},t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){d.get("/api/projects/overview").then((function(e){s(e.data?e.data.rows:[]),console.log("Updating project tasks")})).catch((function(e){return console.log(e)}))}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)(I,{title:"Project"}),Object(D.jsx)(w.a,{component:C.a,children:Object(D.jsxs)(S.a,{sx:{minWidth:650},"aria-label":"User's Tasks",children:[Object(D.jsx)(F.a,{children:Object(D.jsxs)(U.a,{children:[Object(D.jsx)(L.a,{children:"Project Title"}),Object(D.jsx)(L.a,{align:"right",children:"Tasks remaining"}),Object(D.jsx)(L.a,{align:"right",children:"Due"})]})}),Object(D.jsx)(A.a,{children:c.map((function(t){return Object(D.jsxs)(U.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(D.jsx)(L.a,{children:t.Title}),Object(D.jsx)(L.a,{align:"right",size:"small",children:t.TaskRemaining?t.TaskRemaining:0}),Object(D.jsx)(L.a,{align:"right",size:"medium",children:new Date(1e3*t.DueDate).toLocaleDateString("en-US",e)})]},t.TaskID)}))})]})})]})}function se(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),r=Object(o.a)(s,2),i=r[0],l=r[1];return Object(a.useEffect)((function(){d.get("/api/people/free").then((function(e){c(e.data?e.data.rows:[]),console.log("Updating free users")})).catch((function(e){return console.log(e)})),d.get("/api/people/best").then((function(e){l(e.data?e.data.rows[0]:{}),console.log("Updating best user")})).catch((function(e){return console.log(e)}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(I,{title:"Manage"}),Object(D.jsx)(g.a,{children:"Free Users"}),Object(D.jsx)(w.a,{component:C.a,children:Object(D.jsxs)(S.a,{sx:{minWidth:650},"aria-label":"Free Users",children:[Object(D.jsx)(F.a,{children:Object(D.jsxs)(U.a,{children:[Object(D.jsx)(L.a,{align:"left",children:"First Name"}),Object(D.jsx)(L.a,{align:"left",children:"Last Name"}),Object(D.jsx)(L.a,{align:"right",children:"Job Role"})]})}),Object(D.jsx)(A.a,{children:n.map((function(e){return Object(D.jsxs)(U.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(D.jsx)(L.a,{align:"left",children:e.FirstName}),Object(D.jsx)(L.a,{align:"left",children:e.LastName}),Object(D.jsx)(L.a,{align:"right",children:e.JobRole})]},e.PersonID)}))})]})}),Object(D.jsx)("br",{}),Object(D.jsxs)(m.a,{children:["The most productive person is ",i.FirstName," ",i.LastName," with a total of ",i.CompletedTasks," tasks completed."]})]})}function re(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(1),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),u=b[0],h=b[1],O=function(e){d.get("/api/people/department/".concat(e)).then((function(e){h(e.data?e.data.rows:[]),console.log("Updating department people")})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){d.get("/api/departments").then((function(e){c(e.data?e.data.rows:[]),console.log("Updating departments")})).catch((function(e){return console.log(e)})),O(i)}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(I,{title:"Department",children:Object(D.jsxs)(K.a,{sx:{m:2,minWidth:120},justify:"left",children:[Object(D.jsx)(Q.a,{id:"dept-select-label",children:"Department"}),Object(D.jsx)(G.a,{labelId:"dept-select-label",id:"dept-select",label:"Department",value:i,onChange:function(e){l(e.target.value),O(e.target.value)},children:n.map((function(e){return Object(D.jsx)(q.a,{value:e.DeptID,children:e.DeptName},e.DeptID)}))})]})}),Object(D.jsx)(g.a,{children:"Employees"}),Object(D.jsx)(w.a,{component:C.a,children:Object(D.jsxs)(S.a,{sx:{minWidth:650},"aria-label":"Free Users",children:[Object(D.jsx)(F.a,{children:Object(D.jsxs)(U.a,{children:[Object(D.jsx)(L.a,{align:"left",children:"First Name"}),Object(D.jsx)(L.a,{align:"left",children:"Last Name"}),Object(D.jsx)(L.a,{align:"right",children:"Job Role"})]})}),Object(D.jsx)(A.a,{children:u.map((function(e){return Object(D.jsxs)(U.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(D.jsx)(L.a,{align:"left",children:e.FirstName}),Object(D.jsx)(L.a,{align:"left",children:e.LastName}),Object(D.jsx)(L.a,{align:"right",children:e.JobRole})]},e.PersonID)}))})]})}),Object(D.jsx)("br",{})]})}n(204);var ie=n.p+"static/media/logo.3a4c46be.ico",le=n(285),oe=n(290),je=n(269),de=n(281),be=n(270),ue=n(271),he=n(142),Oe=n.n(he),xe=n(143),pe=n.n(xe),ge=n(145),me=n.n(ge),fe=n(144),ke=n.n(fe),De=n(140),ve=n.n(De),Ie=n(147),Ne=Object(x.a)((function(e){return{root:{display:"flex"},drawer:Object(h.a)({},e.breakpoints.up("sm"),{width:220,flexShrink:0}),menuButton:Object(h.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:220},content:{flexGrow:1,padding:e.spacing(3)},link:{textDecoration:"none",color:e.palette.text.primary},bottomPush:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"flex-end",height:"100%"},bottomPushItems:{textAlign:"center",marginTop:"auto",marginBottom:"20px"},logoImg:{width:"30px",objectFit:"cover",marginRight:"20px"},logo:{display:"flex",alignItems:"center",textAlign:"center",padding:"5px",marginLeft:"16px",height:"64px"}}}));function Pe(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Boolean(n),r=Object(a.useState)([]),i=Object(o.a)(r,2),l=i[0],j=i[1],b=u((function(e){return e.setSelectedPerson}));Object(a.useEffect)((function(){return d.get("/api/people").then((function(e){j(e.data?e.data.rows:[])})).catch((function(e){return console.log(e)}))}),[]);var h=function(e,t){c(null),b({personID:e,personName:t})};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(ne.a,{"aria-label":"Person",size:"large",onClick:function(e){c(e.currentTarget)},children:Object(D.jsx)(ve.a,{})}),Object(D.jsxs)(Ie.a,{anchorEl:n,open:s,onClose:function(){c(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(D.jsx)(q.a,{onClick:function(){return h(-1,"All Tasks")},children:"All Tasks"},-1),l.map((function(e){return Object(D.jsx)(q.a,{onClick:function(){return h(e.PersonID,e.FirstName+" "+e.LastName)},children:e.FirstName+" "+e.LastName},e.PersonID)}))]})]})}var ye=Object(i.g)((function(){var e=Ne(),t=u((function(e){return e.selectedPerson}));return Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)(k.a,{}),Object(D.jsxs)(le.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left",children:[Object(D.jsxs)("div",{className:e.logo,children:[Object(D.jsx)("img",{className:e.logoImg,alt:"logo",src:ie}),Object(D.jsx)("h3",{children:"Task Organizer"})]}),Object(D.jsx)(je.a,{}),Object(D.jsxs)(oe.a,{children:[Object(D.jsx)(r.b,{to:"/user-tasks",className:e.link,children:Object(D.jsxs)(de.a,{button:!0,children:[Object(D.jsx)(be.a,{children:Object(D.jsx)(Oe.a,{})}),Object(D.jsx)(ue.a,{primary:"User Tasks"})]},"Tasks")}),Object(D.jsx)(r.b,{to:"/project",className:e.link,children:Object(D.jsxs)(de.a,{button:!0,children:[Object(D.jsx)(be.a,{children:Object(D.jsx)(pe.a,{})}),Object(D.jsx)(ue.a,{primary:"Project"})]},"Project")}),Object(D.jsx)(r.b,{to:"/department",className:e.link,children:Object(D.jsxs)(de.a,{button:!0,children:[Object(D.jsx)(be.a,{children:Object(D.jsx)(ke.a,{})}),Object(D.jsx)(ue.a,{primary:"Department"})]},"Department")}),Object(D.jsx)(r.b,{to:"/manage",className:e.link,children:Object(D.jsxs)(de.a,{button:!0,children:[Object(D.jsx)(be.a,{children:Object(D.jsx)(me.a,{})}),Object(D.jsx)(ue.a,{primary:"Manage"})]},"Manage")})]}),Object(D.jsx)("div",{className:e.bottomPush,children:Object(D.jsxs)("div",{className:e.bottomPushItems,children:[Pe(),Object(D.jsx)("div",{children:t.personName})]})})]})]})})),Te=Object(x.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(2)},toolbar:e.mixins.toolbar}}));var we=function(){var e=Te();return Object(D.jsx)(r.a,{children:Object(D.jsxs)("div",{className:e.root,children:[Object(D.jsx)(ye,{}),Object(D.jsxs)("div",{className:e.content,children:[Object(D.jsx)("div",{className:e.toolbar}),Object(D.jsxs)(i.d,{children:[Object(D.jsx)(i.a,{exact:!0,from:"/",to:"user-tasks"}),Object(D.jsx)(i.b,{path:"/manage",children:Object(D.jsx)(se,{})}),Object(D.jsx)(i.b,{path:"/user-tasks",children:Object(D.jsx)(ae,{})}),Object(D.jsx)(i.b,{path:"/project",children:Object(D.jsx)(ce,{})}),Object(D.jsx)(i.b,{path:"/department",children:Object(D.jsx)(re,{})})]})]})]})})},Ce=n(146),Se=n(273),Fe=n(286),Ue=n(272),Le=n(66),Ae=Object(Ce.a)({palette:{mode:"dark",primary:Ue.a,secondary:Le.a}});s.a.render(Object(D.jsx)("div",{children:Object(D.jsx)(Se.a,{injectFirst:!0,children:Object(D.jsx)(Fe.a,{theme:Ae,children:Object(D.jsx)(we,{})})})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.5f53e6c0.chunk.js.map